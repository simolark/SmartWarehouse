{"remainingRequest":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\babel-loader\\lib\\index.js!D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\src\\views\\Login.vue","mtime":1678631057949},{"path":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665989346000},{"path":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1665989346000},{"path":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665989346000},{"path":"D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1665989348000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IFZhbGlkQ29kZSBmcm9tICJAL2NvbXBvbmVudHMvVmFsaWRDb2RlIjsKaW1wb3J0IHsgYWN0aXZlUm91dGVyIH0gZnJvbSAiQC91dGlscy9wZXJtaXNzaW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50czogewogICAgVmFsaWRDb2RlOiBWYWxpZENvZGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2ZWRpb0NhblBsYXk6IGZhbHNlLAogICAgICBmaXhTdHlsZTogJycsCiAgICAgIGZvcm06IHsKICAgICAgICByb2xlOiAxCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgdmFsaWRDb2RlOiAnJyAvLyDliqDog4zmma/lm77niYcKICAgICAgLy8gYmc6IHsKICAgICAgLy8gICBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoIiArIHJlcXVpcmUoIkAvYXNzZXRzL2JnLmpwZyIpICsgIikiLAogICAgICAvLyAgIGJhY2tncm91bmRSZXBlYXQ6ICJuby1yZXBlYXQiLAogICAgICAvLyAgIGJhY2tncm91bmRTaXplOiAiMTAwJSAxMDAlIgogICAgICAvLyB9CgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXIiKTsKCiAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3aW5kb3dXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgdmFyIHdpbmRvd0FzcGVjdFJhdGlvID0gd2luZG93SGVpZ2h0IC8gd2luZG93V2lkdGg7CiAgICAgIHZhciB2aWRlb1dpZHRoOwogICAgICB2YXIgdmlkZW9IZWlnaHQ7CgogICAgICBpZiAod2luZG93QXNwZWN0UmF0aW8gPCAwLjU2MjUpIHsKICAgICAgICB2aWRlb1dpZHRoID0gd2luZG93V2lkdGg7CiAgICAgICAgdmlkZW9IZWlnaHQgPSB2aWRlb1dpZHRoICogMC41NjI1OwogICAgICAgIF90aGlzLmZpeFN0eWxlID0gewogICAgICAgICAgaGVpZ2h0OiB3aW5kb3dXaWR0aCAqIDAuNTYyNSArICdweCcsCiAgICAgICAgICB3aWR0aDogd2luZG93V2lkdGggKyAncHgnLAogICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAod2luZG93SGVpZ2h0IC0gdmlkZW9IZWlnaHQpIC8gMiArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAnaW5pdGlhbCcKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHZpZGVvSGVpZ2h0ID0gd2luZG93SGVpZ2h0OwogICAgICAgIHZpZGVvV2lkdGggPSB2aWRlb0hlaWdodCAvIDAuNTYyNTsKICAgICAgICBfdGhpcy5maXhTdHlsZSA9IHsKICAgICAgICAgIGhlaWdodDogd2luZG93SGVpZ2h0ICsgJ3B4JywKICAgICAgICAgIHdpZHRoOiB3aW5kb3dIZWlnaHQgLyAwLjU2MjUgKyAncHgnLAogICAgICAgICAgJ21hcmdpbi1sZWZ0JzogKHdpbmRvd1dpZHRoIC0gdmlkZW9XaWR0aCkgLyAyICsgJ3B4JywKICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogJ2luaXRpYWwnCiAgICAgICAgfTsKICAgICAgfQogICAgfTsKCiAgICB3aW5kb3cub25yZXNpemUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbnBsYXk6IGZ1bmN0aW9uIGNhbnBsYXkoKSB7CiAgICAgIHRoaXMudmVkaW9DYW5QbGF5ID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDmjqXmlLbpqozor4HnoIHnu4Tku7bmj5DkuqTnmoQgNOS9jemqjOivgeeggQogICAgY3JlYXRlVmFsaWRDb2RlOiBmdW5jdGlvbiBjcmVhdGVWYWxpZENvZGUoZGF0YSkgewogICAgICB0aGlzLnZhbGlkQ29kZSA9IGRhdGE7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICghX3RoaXMyLmZvcm0udmFsaWRDb2RlKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi6K+35aGr5YaZ6aqM6K+B56CBIik7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzMi5mb3JtLnZhbGlkQ29kZS50b0xvd2VyQ2FzZSgpICE9PSBfdGhpczIudmFsaWRDb2RlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCLpqozor4HnoIHplJnor68iKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXF1ZXN0LnBvc3QoIi91c2VyL2xvZ2luIiwgX3RoaXMyLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m75b2V5oiQ5YqfIgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsgLy8g57yT5a2Y55So5oi35L+h5oGvCiAgICAgICAgICAgICAgLy8g55m75b2V5oiQ5Yqf55qE5pe25YCZ5pu05paw5b2T5YmN6Lev55SxCgogICAgICAgICAgICAgIGFjdGl2ZVJvdXRlcigpOwoKICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvIik7IC8v55m75b2V5oiQ5Yqf5LmL5ZCO6L+b6KGM6aG16Z2i55qE6Lez6L2s77yM6Lez6L2s5Yiw5Li76aG1CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\A_University\\Study\\A归档\\大三上\\实训三\\代码\\用户手册\\前端\\src\\views\\Login.vue"],"names":[],"mappings":"AAwCA,OAAO,OAAP,MAAoB,iBAApB;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAQ,YAAR,QAA2B,oBAA3B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,YAAY,EAAE,KADT;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,IAAI,EAAE;AAAC,QAAA,IAAI,EAAE;AAAP,OAHD;AAIL,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,CACR;AAAC,UAAA,QAAQ,EAAE,IAAX;AAAiB,UAAA,OAAO,EAAE,QAA1B;AAAoC,UAAA,OAAO,EAAE;AAA7C,SADQ,CADL;AAIL,QAAA,QAAQ,EAAE,CACR;AAAC,UAAA,QAAQ,EAAE,IAAX;AAAiB,UAAA,OAAO,EAAE,OAA1B;AAAmC,UAAA,OAAO,EAAE;AAA5C,SADQ;AAJL,OAJF;AAYL,MAAA,SAAS,EAAE,EAZN,CAaL;AACA;AACA;AACA;AACA;AACA;;AAlBK,KAAP;AAoBD,GA1BY;AA2Bb,EAAA,OA3Ba,qBA2BH;AAAA;;AACR,IAAA,cAAc,CAAC,UAAf,CAA0B,MAA1B;;AAEA,IAAA,MAAM,CAAC,QAAP,GAAkB,YAAM;AACtB,UAAM,WAAU,GAAI,QAAQ,CAAC,IAAT,CAAc,WAAlC;AACA,UAAM,YAAW,GAAI,QAAQ,CAAC,IAAT,CAAc,YAAnC;AACA,UAAM,iBAAgB,GAAI,YAAW,GAAI,WAAzC;AACA,UAAI,UAAJ;AACA,UAAI,WAAJ;;AACA,UAAI,iBAAgB,GAAI,MAAxB,EAAgC;AAC9B,QAAA,UAAS,GAAI,WAAb;AACA,QAAA,WAAU,GAAI,UAAS,GAAI,MAA3B;AACA,QAAA,KAAI,CAAC,QAAL,GAAgB;AACd,UAAA,MAAM,EAAE,WAAU,GAAI,MAAd,GAAuB,IADjB;AAEd,UAAA,KAAK,EAAE,WAAU,GAAI,IAFP;AAGd,2BAAiB,CAAC,YAAW,GAAI,WAAhB,IAA+B,CAA/B,GAAmC,IAHtC;AAId,yBAAe;AAJD,SAAhB;AAMF,OATA,MASO;AACL,QAAA,WAAU,GAAI,YAAd;AACA,QAAA,UAAS,GAAI,WAAU,GAAI,MAA3B;AACA,QAAA,KAAI,CAAC,QAAL,GAAgB;AACd,UAAA,MAAM,EAAE,YAAW,GAAI,IADT;AAEd,UAAA,KAAK,EAAE,YAAW,GAAI,MAAf,GAAwB,IAFjB;AAGd,yBAAe,CAAC,WAAU,GAAI,UAAf,IAA6B,CAA7B,GAAiC,IAHlC;AAId,2BAAiB;AAJH,SAAhB;AAMF;AACF,KAzBA;;AA0BA,IAAA,MAAM,CAAC,QAAP;AACD,GAzDY;AA0Db,EAAA,OAAO,EAAE;AACP,IAAA,OADO,qBACG;AACR,WAAK,YAAL,GAAoB,IAApB;AACD,KAHM;AAIP;AACA,IAAA,eALO,2BAKS,IALT,EAKe;AACpB,WAAK,SAAL,GAAiB,IAAjB;AACD,KAPM;AAQP,IAAA,KARO,mBAQE;AAAA;;AACP,WAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,CAA4B,UAAC,KAAD,EAAW;AACrC,YAAI,KAAJ,EAAW;AACT,cAAI,CAAC,MAAI,CAAC,IAAL,CAAU,SAAf,EAA0B;AACxB,YAAA,MAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,QAApB;;AACA;AACF;;AACA,cAAG,MAAI,CAAC,IAAL,CAAU,SAAV,CAAoB,WAApB,OAAsC,MAAI,CAAC,SAAL,CAAe,WAAf,EAAzC,EAAuE;AACrE,YAAA,MAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,OAApB;;AACA;AACF;;AACA,UAAA,OAAO,CAAC,IAAR,CAAa,aAAb,EAA4B,MAAI,CAAC,IAAjC,EAAuC,IAAvC,CAA4C,UAAA,GAAE,EAAK;AACjD,gBAAI,GAAG,CAAC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,cAAA,MAAI,CAAC,QAAL,CAAc;AACZ,gBAAA,IAAI,EAAE,SADM;AAEZ,gBAAA,OAAO,EAAE;AAFG,eAAd;;AAIA,cAAA,cAAc,CAAC,OAAf,CAAuB,MAAvB,EAA+B,IAAI,CAAC,SAAL,CAAe,GAAG,CAAC,IAAnB,CAA/B,EALoB,CAKsC;AAE1D;;AACA,cAAA,YAAY;;AACZ,cAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB,EAToB,CASI;;AAE1B,aAXA,MAWO;AACL,cAAA,MAAI,CAAC,QAAL,CAAc;AACZ,gBAAA,IAAI,EAAE,OADM;AAEZ,gBAAA,OAAO,EAAE,GAAG,CAAC;AAFD,eAAd;AAIF;AACD,WAlBD;AAmBF;AACD,OA9BD;AA+BF;AAxCO;AA1DI,CAAf","sourcesContent":["<template>\n  <div class=\"homepage-hero-module\">\n    <div class=\"video-container\">\n      <div :style=\"fixStyle\" class=\"filter\">\n        <div style=\"width: 400px; margin: 100px auto\">\n          <div style=\"font-size: 39px; text-align: center; padding: 30px 0; color: #DC143C\">欢迎登录智能仓储系统</div>\n          <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n            <el-form-item prop=\"username\">\n              <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入账号\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <div style=\"display: flex\">\n                <el-input prefix-icon=\"el-icon-key\" v-model=\"form.validCode\" style=\"width: 50%;\" placeholder=\"请输入验证码\"></el-input>\n                <ValidCode @input=\"createValidCode\" />\n              </div>\n            </el-form-item>\n<!--            <el-form-item>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"1\" style=\"color: white\">管理员</el-radio>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"2\" style=\"color: white\">普通用户</el-radio>-->\n<!--            </el-form-item>-->\n            <el-form-item>\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登 录</el-button>\n            </el-form-item>\n            <el-form-item><el-button type=\"text\" @click=\"$router.push('/register')\">前往注册 >> </el-button></el-form-item>\n          </el-form>\n        </div>\n      </div>\n      <video :style=\"fixStyle\" autoplay loop muted class=\"fillWidth\" v-on:canplay=\"canplay\">\n        <source src=\"../assets/sea.mp4\" type=\"video/mp4\"/>\n        浏览器不支持 video 标签，建议升级浏览器。\n      </video>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport ValidCode from \"@/components/ValidCode\";\nimport {activeRouter} from \"@/utils/permission\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    ValidCode,\n  },\n  data() {\n    return {\n      vedioCanPlay: false,\n      fixStyle: '',\n      form: {role: 1},\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      },\n      validCode: ''\n      // 加背景图片\n      // bg: {\n      //   backgroundImage: \"url(\" + require(\"@/assets/bg.jpg\") + \")\",\n      //   backgroundRepeat: \"no-repeat\",\n      //   backgroundSize: \"100% 100%\"\n      // }\n    }\n  },\n  mounted() {\n    sessionStorage.removeItem(\"user\")\n\n    window.onresize = () => {\n      const windowWidth = document.body.clientWidth\n      const windowHeight = document.body.clientHeight\n      const windowAspectRatio = windowHeight / windowWidth\n      let videoWidth\n      let videoHeight\n      if (windowAspectRatio < 0.5625) {\n        videoWidth = windowWidth\n        videoHeight = videoWidth * 0.5625\n        this.fixStyle = {\n          height: windowWidth * 0.5625 + 'px',\n          width: windowWidth + 'px',\n          'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\n          'margin-left': 'initial'\n        }\n      } else {\n        videoHeight = windowHeight\n        videoWidth = videoHeight / 0.5625\n        this.fixStyle = {\n          height: windowHeight + 'px',\n          width: windowHeight / 0.5625 + 'px',\n          'margin-left': (windowWidth - videoWidth) / 2 + 'px',\n          'margin-bottom': 'initial'\n        }\n      }\n    }\n    window.onresize()\n  },\n  methods: {\n    canplay() {\n      this.vedioCanPlay = true\n    },\n    // 接收验证码组件提交的 4位验证码\n    createValidCode(data) {\n      this.validCode = data\n    },\n    login () {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          if (!this.form.validCode) {\n            this.$message.error(\"请填写验证码\")\n            return\n          }\n          if(this.form.validCode.toLowerCase() !== this.validCode.toLowerCase()) {\n            this.$message.error(\"验证码错误\")\n            return\n          }\n          request.post(\"/user/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                type: \"success\",\n                message: \"登录成功\"\n              })\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n\n              // 登录成功的时候更新当前路由\n              activeRouter()\n              this.$router.push(\"/\")  //登录成功之后进行页面的跳转，跳转到主页\n\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.homepage-hero-module,\n.video-container {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.video-container .poster img{\n  z-index: 0;\n  position: absolute;\n}\n\n.video-container .filter {\n  z-index: 1;\n  position: absolute;\n  /*background: rgba(0, 0, 0, 0.4);*/\n  width: 100%;\n}\n\n.fillWidth {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":""}]}